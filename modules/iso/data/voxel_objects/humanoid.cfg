{
	properties: {
		mytest: "decimal<- z*z",
		mydetails: "def() ->[decimal] [x,y,z]",
		
		//_select_box: {variable:true, type: "wireframe_box_primitive"},
	},

	handlers: {
		process: "[
			if(cycle = 100, attach_model(voxel_model('data/voxel_models/sword.cfg'), 'handle', 'melee_weapon')), 
			if(cycle%100 = 0, set(animation, 'walk')), 
			if(cycle%250 = 0, set(animation, 'strike')), 
			if(cycle%1000 = 0, set(animation, 'throw_celebrate')), 
			set(me.z, z+0.01),
			
			if(size(world.draw_primitive)>0 and wireframe is box_primitive, set(wireframe.color, [32,int(63 * sin(cycle*5)+128),0,255])),
		] where wireframe = world.draw_primitive[0]",
		
		//"mouse_move*": "debug(pt[0], pt[1], pt[2]) where pt = world.logical.point_convert([decimal,decimal,decimal] <- arg.world_point) where arg = object <- event_arg",
		"mouse_move*": "if(size(world.draw_primitive)>0 and wireframe is box_primitive, 
			if(ht != null, set(wireframe.translation, [pt[0]*world.logical.x_scale,ht,pt[2]*world.logical.z_scale]), set(wireframe.translation, [-1000,-1000,-1000])))
			where wireframe = world.draw_primitive[0], 
				ht = world.logical.get_height_at_point(pt[0],pt[2]),
			where pt = world.logical.point_convert([decimal,decimal,decimal] <- arg.world_point) 
			where arg = object <- event_arg",
		
		"mouse_down": "debug('clicked', me.type)",
		
		"create": "[
			set(world.draw_primitive, [box]),
			//set(_select_box, wireframe_box_primitive<- box),
		] where box = draw_primitive({
			//type: 'box_wireframe',
			//points: [[0,0,0],[3,1,3]],
			//color: 'red',
			//scale: [1.05,1.05,1.05]
			type: 'box',
			points: [[0,0,0],[3,1,3]],
			color: 'red',
			scale: [1.05,1.05,1.05]
		})",
	},
}
